<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>node.js &middot; Jare&#39;s Blog</title>

    <meta name="description" content="">

    <meta name="generator" content="Hugo 0.15" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="node.js &middot; Jare&#39;s Blog">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="node.js &middot; Jare&#39;s Blog">
    <meta property="og:description" content="">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="https://thejare.github.io//css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Jare&#39;s Blog" href="https://thejare.github.io//index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://thejare.github.io/">Jare&#39;s Blog</a></h1>
            <h2 class="brand-tagline"> Stuff I write </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/TheJare"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/TheJare "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://thejare.github.io//index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
        <p></p>
        <nav class="nav">
            <ul class="nav-list">
                
                <li class="menu-item">
                    <a href="../">Home</a>
                </li>
                
                <li class="menu-item">
                    <a href="../about-me/">About Me</a>
                </li>
                
                <li class="menu-item">
                    <a href="../articles/">Articles</a>
                </li>
                
                <li class="menu-item">
                    <a href="../downloads/">Downloads</a>
                </li>
                
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                <h1 class="content-subhead">28 Jan 2012, 03:47</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://thejare.github.io/p2561" class="post-title">node.js</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Jare</strong>
                            
                            
                                under 
                                
                                
                                    <a class="post-category post-category-development" href="https://thejare.github.io/categories/development">Development</a>
                                
                                    <a class="post-category post-category-system" href="https://thejare.github.io/categories/system">System</a>
                                
                            
                        </p>
                    </header>
                    
                    <div class="post-description">
                        <p>cdoral in <a href="http://www.iguanademos.com/Jare/wp/?p=2385#comment-3491">another post</a> mentions <a href="http://nodejs.org/" target="_blank">node.js</a>. I have been following this project for a while so I thought I&#8217;d write a little blurb about it and include a few links for further and more in-depth information. Coincidentally, the <a href="http://nodesummit.com/" target="_blank">Node Summit</a> was held this week in SF, so there may be interesting and fresh material coming from there soon.</p>

<p>First things first: I have played with node.js for little experiments but haven&#8217;t yet found an opportunity to put it to real, production use. Version 0.6 addressed some of my questions about its capabilities and performance, and it is already being used on production servers for many traffic-heavy sites like eBay or LinkedIn, so it&#8217;s clearly gone beyond the experimental stage. If you are building a web service today, node.js is a technology you should consider.</p>

<p>Node is a stand-alone executable that will run a JavaScript file passed on the command line:</p>

<blockquote>
<p>node app.js</p>
</blockquote>

<p>Your JavaScript program can use the standard JavaScript libraries (Math, etc) and a bunch of node-specific libraries. In most cases, your program will enter an infinite event loop and start receiving, processing and responding to network requests.</p>

<p>Pros:</p>

<ul>
<li>Uses JavaScript, the same language you are likely using (in part or in full) on the client side of web sites and applications. This is a great opportunity to reuse code and expertise across both sides.</li>
<li>It&#8217;s based on Google&#8217;s <a href="http://code.google.com/p/v8/" target="_blank">V8 engine</a>, which is being actively developed and keeps getting better, faster and more robust with each release.</li>
<li>Its asynchronous, event-based nature makes it <strong>easy</strong> for node applications to support hundreds or thousands of simultaneous connections with great performance and low resource consumption, compared to thread- or process-based solutions. Many modern servers, both standalone servers (<a href="http://nginx.org/en/" target="_blank">nginx</a>) as well as server application frameworks (<a href="https://github.com/williame/hellepoll" target="_blank">Hellepoll</a>, <a href="http://www.tornadoweb.org/" target="_blank">Tornado</a>), have gone this route.</li>
<li>Node libraries and extensions use a standard distribution method called the <a href="http://npmjs.org/doc/README.html" target="_blank">node package manager</a>. It&#8217;s incredibly easy to use and makes managing your external dependencies a breeze.</li>
</ul>

<p>Cons:</p>

<ul>
<li>All I/O in node programs (files, databases, other servers, etc) is asynchronous and usually offered in <a href="http://en.wikipedia.org/wiki/Continuation-passing_style" target="_blank">continuation-passing style</a>. If you are not careful with the way you write your code, you may end up in callback hell. Some libraries like <a href="https://github.com/caolan/async" target="_blank">async</a> will help a lot there, but do not underestimate the cost of getting used to code with this paradigm.</li>
<li>node is event-based, and that&#8217;s it. It&#8217;s easy to get great performance, but sometimes you need huge performance or scaling even if it&#8217;s not easy (note &#8211; it never is!). If your concurrency or scaling needs change in the future and other approaches (multithreaded, distributed) would serve you better, you will have to engineer around node (balancers, proxies, routers, hybrid services), or entirely rewrite your code using another technology that allows other solutions (C++, Erlang).</li>
<li>Many classic hosting providers do not support node.js out of the box, and require renting a virtual server. Recent contenders in the platform-as-a-service space like <a href="http://devcenter.heroku.com/articles/node-js" target="_blank">heroku</a> do offer node.js support out of the box.</li>
</ul>

<p>Node.js really is an application platform, not a plain web server &#8211; you can use one of the popular node frameworks like <a href="http://expressjs.com/" target="_blank">express </a>to build a fully featured web server, and it will have almost the same throughput as dedicated servers like nginx or lighttpd. In broad terms, I look at them like this:</p>

<ul>
<li>Node.js if you&#8217;re developing a web application (and its pros/cons are ok for you). Node may also serve the client web site, but its strength is in handling the server-side logic.</li>
<li>Nginx if you are serving a single, custom web site that includes an application backend. Nginx configuration is simple but powerful for both static files and cgi modules, and it can also fill other roles (reverse proxy/load balancer or mail proxy) in your infrastructure.</li>
<li>Apache if you are serving multiple sites, each may be built using different technologies (PHP, uwsgi, etc), and/or each may be managed by different people or clients. <em>Everyone</em> and <em>everything</em> knows, understands and/or is compatible with Apache configuration files.</li>
</ul>

<p>I hope to be able to talk more about node.js in the future.</p>

                    </div>
                    
                </section>
            </div>
            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a>. Theme is based on <a class="hugo" href="https://github.com/dplesca/purehugo">Purehugo</a> by Dragos Plesca</li>
        </ul>
    </div>
</div>
<script src="https://thejare.github.io//js/all.min.js"></script>
        </div>
    </div>
</div>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
